
/**
 * @author: Caleb Dell
 * @desciption:
 * @date: 22/8/16
 * The program is a piles game. It will run by asking for the users names then 
 * the amount of games that they would like to play (going upto three) while keeping scores
 * tried to the user that wins the game. Then looping to the wanted number and out puting the game
 * that the players is up to. Once the game has been setup and user input for names has been aquired
 * it will then choose a random number of counters to put in the array state the amount in each pile.
 * After this the program will randomly pick which player will start 
 **/
import java.util.Scanner;
import java.util.Random;

public static pilesGame{
  
  
  public static void main (String [] args){
    int gameCount  = 0;
    int gamesPlayed = 0;
    int userPicked = 0;
    int gamesWanted  = 0;
    int player1Score = 0;
    int player2Score = 0;
    int userTokens = 0;
    int userPiles = 0;
    
    Random rand = new Random();
    int [] piles = new int [5];
    piles [0] = rand.nextInt (5)+1;
    piles [1] = rand.nextInt (5)+1;
    piles [2] = rand.nextInt (5)+1;
    piles [3] = rand.nextInt (5)+1;
    piles [4] = rand.nextInt (5)+1;
    
    System.out.println("Hello this is a piles game the basic rules are"); 
    System.out.println("there are 5 piles and a random number of counters "); 
    System.out.println("in each pile. They will be displayed like this 1:3"); 
    System.out.println("this means pile 1 has 3 counters. You can take a any"); 
    System.out.println("amount of counters in each pile and the one left"); 
    System.out.println("with the last counter wins."); 
    System.out.println("-----------------------------------------------------");
    String player1 = readString("Now can the first player enter their name......");
    String player2 = readString("Awesome, now can the second player enter their name......");
    int gamesWanted = readInt("How many games would you like to play (Max of 3)? ");
    
    do{
      if(userPicked == 1){
        System.out.println(player1 +" will start the game.");
        player1 = startingPlayer;
        player2 = secondPlayer;
      }else{
        System.out.println(player2+ " will start the game.");
        player2 = startingPlayer;
        player1 = secondPlayer;
      }
      
      gamesPlayed = gamesPlayed + 1;
      
      
      System.out.println("The piles are.....");
      System.out.println("1 |" [0] );
      System.out.println("2 |" [1] );
      System.out.println("3 |" [2] );
      System.out.println("4 |" [3] );
      System.out.println("5 |" [4] );
      System.out.println(startingPlayer + " First pick the pile you would like to minus from");
      System.out.println( "then pick the amount you would like to take away.");
      
      do{

        int userPile = readInt ("What pile would you like to minus from");
        int userTokens = readInt("How many tokens would you like to take away");
        
        int pileChoosen = userPile;
        switch(pileChoosen){
          case 1: System.out.println("1 |" [0] - userTokens);
          
          break;
          
          case 2: System.out.println("2 |" [1] - userTokens);
          
          break;
          
          case 3: System.out.println("3 |" [2] - userTokens);
          
          break;
          
          case 4: System.out.println("4 |" [3] - userTokens);
          
          break;
          
          case 5: System.out.println("5 |" [0] - userTokens);
          
          break;
          
        }
        
      }while(piles [0] && piles [1] && piles [2] && piles [3] && piles [4] != 1);{

      if(player1Score<player2Score){
        System.out.println(player1+ " has won the game with " +player1Score + " points");
      }else if(player2Score<player1Score){
        System.out.println(player2+ " has won the game with " +player2Score + " points");
      }else if(player1Score == player2Score){
        System.out.println("Its a draw both players have 1 point each.");
      }else{
        System.out.println("An error occured please contact a system administor."); 
      }
      
      }while(gamesWanted < gamesPlayed);
    
  }//main
    
  private static int userPicked(int min,int max){
    Random rand = new Random();
    int userPicked = rand.nextInt(min-max)+1; 
    return userPicked;
  }//pickedUser Method
  
  public static int readInt(String prompt){
    int userInput =0;
    System.out.println(prompt);
    try{
      Scanner keyboard = new Scanner(System.in);
      userInput = keyboard.nextInt();
    }catch(Exception e){
      System.out.println("Caught error - not an integer");
    }
    return userInput;
  }//end readInt
  
  public static String readString(String prompt){
    System.out.println(prompt);
    Scanner keyboard = new Scanner(System.in);
    return keyboard.nextLine();
  }//end readString
}//class
